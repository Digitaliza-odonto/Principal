<div id="registroAtendimento">

    <p></p>

    <!-- <label style="font-weight:bold;width: 180px;">Área/Curso da saúde</label>
    <select class="ui-state-default ui-corner-all" style="width: 180px; height: 20px;" name="areaSaúde" id="areaSaúde">
    <option value="0">Escolher</option>
    <option value="Odontologia">Odontologia</option>
    <option value="Enfermagem">Enfermagem</option>
    <option value="Farmácia">Farmácia</option>
    <option value="Terapia Ocupacional">Terapia Ocupacional</option>
    </select> -->
    
    <br>
    <p></p>
    <label style="font-weight:bold;width: 180px;">Lista de especialidades</label>
    <select class="ui-state-default ui-corner-all" style="width: 180px; height: 20px;" name="especAreaSaúde" id="especAreaSaúde">
        <option value="Escolher">Escolher</option>
        <option value="Prótese Dentária">Prótese Dentária</option>
        <option value="Odontopediatria">Odontopediatria</option>
        <option value="Periodontia">Periodontia</option>
        <option value="Dentística">Dentística</option>
        <option value="Cirurgia">Cirurgia</option>
    </select>
    
    <!-- <script>
    const disciplinas = [
        {codCurso: '0', nomeEspec:'Selecione uma especialidade'},
        {codCurso: 'Odontologia', nomeEspec:'Prótese Dentária'},
        {codCurso: 'Odontologia', nomeEspec:'Odontopediatria'},
        {codCurso: 'Odontologia', nomeEspec:'Periodontia'},
        {codCurso: 'Odontologia', nomeEspec:'Dentística'},
        {codCurso: 'Odontologia', nomeEspec:'Cirurgia'},
        {codCurso: 'Enfermagem', nomeEspec:'Pediatria e Neonatologia'},
        {codCurso: 'Enfermagem', nomeEspec:'Terapia Intensiva e Alta Complexidade'},
        {codCurso: 'Enfermagem', nomeEspec:'Cardiologia e Hemodinâmica'},
        {codCurso: 'Farmácia', nomeEspec:'Análises clínicas' },
        {codCurso: 'Farmácia', nomeEspec:'Antroposofia' },
        {codCurso: 'Terapia Ocupacional', nomeEspec:'Contextos sociais' },
        {codCurso: 'Terapia Ocupacional', nomeEspec:'Saúde da família' },
        // Add more options as needed
    ];
    
    const areaSelect = document.getElementById('areaSaúde');
    const disciplinasSelect = document.getElementById('especAreaSaúde');
    
    areaSelect.addEventListener('change', function() {
        const selectedCodCurso = areaSelect.value;
    
        // Clear existing options
        disciplinasSelect.innerHTML = '<option value="0">Selecione uma especialidade</option>';
    
        // Filter and populate the second select
        const selectedDisciplinas = disciplinas.filter(disciplina => disciplina.codCurso === selectedCodCurso);
        selectedDisciplinas.forEach(disciplina => {
        const option = document.createElement('option');
        option.value = disciplina.nomeEspec;
        option.textContent = disciplina.nomeEspec;
        disciplinasSelect.appendChild(option);
        });
    });
    </script> -->
    
    <hr class="ui-state-default">
    <p></p>
    <br>
    
    <label style="width: 400px; ;">Descrição do plano de tratamento ou procedimento realizado:</label><br>
    <textarea style="width: 460px;" id="atendimentoDescrição" rows="10" maxlength="1000" class="ui-state-default ui-corner-all" ></textarea>
    <br>

    <label style="width: 180px; ;">Código SUS:</label>
    <button id="btnAddCodSus" value="Adicionar Cód. SUS" class="button">Adicionar Cód. SUS</button>
    <div style="height: 22px; width: 25px; margin: 0px -1px 5px 0px; display: block; float: left; position: relative; padding: 0; text-decoration: none !important; text-align: center; zoom: 1; overflow: visible; border-right: none;" class="ui-widget ui-state-default ui-corner-tl ui-corner-bl ui-button-icon-only"><span class=" ui-icon ui-icon-search"></span></div>
    <input type="text" value="" maxlength="" class="ui-state-default ui-corner-tr ui-corner-br mousetrap " id="atendimentoCodSUS" placeholder="Digite o código SUS" style="width: 240px;" />
    
    <br>
    <label style="width: 180px;">Data do atendimento</label>
    <input type="text" id="atendimentoData" value="" maxlength="10" class="ui-state-default ui-corner-all mousetrap  datepicker" style=" width: 265px;" />
    <br>
    
    <br>
    <label style="width: 180px;">Responsável técnico</label>
    <input type="text" id="responsavelProcedimento" value="" maxlength="10" class="ui-state-default ui-corner-all mousetrap " style=" width: 265px;" placeholder="SELECT BOX OU BUSCAR O NOME?">
    <br>
    
    <label style="width: 180px;">Componente curricular</label>
    <input type="text" id="componenteCurricular" value="" maxlength="10" class="ui-state-default ui-corner-all mousetrap " style=" width: 265px;" placeholder="BUSCAR AUTOMATICAMENTE DO VÍNCULO">
    <br>
    
    <label style="width: 180px;">Paciente faltou:</label>
    <input type="checkbox" id="pacienteFaltou">
    <br>
    
    <script>
    const pacienteFaltouCheckbox = document.getElementById('pacienteFaltou');
    const atendimentoDescricaoInput = document.getElementById('atendimentoDescrição');
    
    pacienteFaltouCheckbox.addEventListener('change', function() {
        if (pacienteFaltouCheckbox.checked) {
            // Add the text when checkbox is checked
            atendimentoDescricaoInput.value += 'Paciente faltou sem justificativa';
        } else {
            // Remove the text when checkbox is unchecked
            atendimentoDescricaoInput.value = atendimentoDescricaoInput.value.replace('Paciente faltou sem justificativa', '');
        }
    });
    </script>
    
    <p></p>
    <button id="btnAdicionar" onclick="addTable()" value="Adicionar" class="button"  >Adicionar</button>
    <button id="btnCancelar" onclick="limparCampos()" value="Cancelar" class="button"  >Cancelar</button>
    <br>
    <p></p>
    
    <hr class="ui-state-default">
    
    <p></p>
    
    <h2> Descrição do registro de atendimento</h2>
    <div style="margin: 10px;"></div>
    <table id="listaProcedimento" class="ui-jqgrid ui-widget ui-widget-content ui-corner-all" cellspacing="0" cellpadding="0" border="0" role="grid" aria-multiselectable="false" style="width: 90%; font-size: 14px; margin: 15px;">
    <thead>
        <tr class="ui-jqgrid-labels" role="rowheader">
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 5%;">
            Data
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 7.5%;">
            Área da Saúde
        </th>
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 12.5%;">
            Especialidade
        </th>
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 40%;">
            Descrição do procedimento
        </th>
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 20%;">
            Responsável técnico
        </th>
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 15%;">
            Disciplina/Estágio
        </th>
        </tr>
        </thead>
        <!-- Table body rows go here -->
    </table>
    
    <script>
    function addTable() {
        var atendimentoData = document.getElementById("atendimentoData").value;
        var areaSaúde = document.getElementById("areaSaúde").value;
        var especAreaSaúde = document.getElementById("especAreaSaúde").value;
        var atendimentoDescrição = document.getElementById("atendimentoDescrição").value;
        var responsavelProcedimento = document.getElementById("responsavelProcedimento").value;
        var componenteCurricular = document.getElementById("componenteCurricular").value;
    
        if (atendimentoData && areaSaúde && especAreaSaúde && atendimentoDescrição && responsavelProcedimento && componenteCurricular) {
        var table = document.getElementById("listaProcedimento");
        var newRow = table.insertRow(-1);
    
        var atendimentoDataCell = newRow.insertCell(0);
        atendimentoDataCell.innerHTML = atendimentoData;
        atendimentoDataCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        var areaSaúdeCell = newRow.insertCell(1);
        areaSaúdeCell.innerHTML = areaSaúde;
        areaSaúdeCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        var especAreaSaúdeCell = newRow.insertCell(2);
        especAreaSaúdeCell.innerHTML = especAreaSaúde;
        especAreaSaúdeCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        var atendimentoDescriçãoCell = newRow.insertCell(3);
        atendimentoDescriçãoCell.innerHTML = atendimentoDescrição;
        atendimentoDescriçãoCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        var responsavelProcedimentoCell = newRow.insertCell(4);
        responsavelProcedimentoCell.innerHTML = responsavelProcedimento;
        responsavelProcedimentoCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        var componenteCurricularCell = newRow.insertCell(5);
        componenteCurricularCell.innerHTML = componenteCurricular;
        componenteCurricularCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        // Clear input fields after adding row
        document.getElementById("atendimentoData").value = "";
        document.getElementById("areaSaúde").value = "";
        document.getElementById("especAreaSaúde").value = "";
        document.getElementById("atendimentoDescrição").value = "";
        document.getElementById("responsavelProcedimento").value = "";
        document.getElementById("componenteCurricular").value = "";
        }
    }
    
    function limparCampos() {
        document.getElementById("atendimentoData").value = "";
        document.getElementById("areaSaúde").value = "";
        document.getElementById("especAreaSaúde").value = "";
        document.getElementById("atendimentoDescrição").value = "";
        document.getElementById("responsavelProcedimento").value = "";
        document.getElementById("componenteCurricular").value = "";
    }
    </script>
    
    <hr class="ui-state-default">
    <div style="margin: 10px;"></div>
    <h2> Listagem de procedimentos SUS realizados</h2>
    <table id="listaCodSUS" class="ui-jqgrid ui-widget ui-widget-content ui-corner-all" cellspacing="0" cellpadding="0" border="0" role="grid" aria-multiselectable="false" style="width: 60%; font-size: 14px; margin: 15px;">
    <thead>
        <tr class="ui-jqgrid-labels" role="rowheader">
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 5%;">
            Selec.
        <th class="ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix" style="width: 95%;">
            Cód. e Procedimento SUS
        </tr>
        </thead>
        <!-- Table body rows go here -->
    </table>
    
    <button name="btnDeletar" id="btnDeletar" value="Deletar" class="button" style="margin: 15px;">Remover código SUS</button>
    <!-- ADD DADOS NA TABELA DE ATENDIMENTO -->
    <script>
    document.getElementById("btnAddCodSus").addEventListener("click", function () {
        var atendimentoCodSUS = document.getElementById("atendimentoCodSUS").value;
        addCodSUSRow(atendimentoCodSUS);
    });
    
    document.getElementById("btnDeletar").addEventListener("click", function () {
        deleteSUSRows();
    });
    
    function addCodSUSRow(codSUS) {
        var listaCodSUSTable = document.getElementById("listaCodSUS");
        var newRow = listaCodSUSTable.insertRow(-1); // Insert at the end
    
        const checkBoxCell = newRow.insertCell(0);
        checkBoxCell.innerHTML = '<input type="checkbox" class="delete-checkbox">';
        checkBoxCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        var codesCell = newRow.insertCell(1);
        codesCell.textContent = codSUS;
        codesCell.className = "ui-state-default ui-th-column ui-th-ltr";
    
        // Clear input field after adding row
        document.getElementById("atendimentoCodSUS").value = "";
    }
    
    function deleteSUSRows() {
        var checkboxes = document.getElementsByClassName("delete-checkbox");
        var table = document.getElementById("listaCodSUS");

        for (var i = checkboxes.length - 1; i >= 0; i--) {
            if (checkboxes[i].checked) {
                table.deleteRow(i + 1); // +1 because of the header row
            }
        }
    }
    </script>
    
    <hr class="ui-state-default">
    <h2 style="padding: 40px; line-height: 150%; color: rgb(211, 39, 39);">
    
    2- PUXAR OS CÓDIGOS SUS DA LISTAGEM CRIADA PELA ADMINISTRAÇÃO<br>
    </h2>
</div>